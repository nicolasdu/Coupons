<!DOCTYPE html>
<html>
<head>
 <link rel="stylesheet" type="text/css" href="../style.css">
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>Get Customer's Info</title>
<script> 

	var xmlhttp;
	function init (){
		
		xmlhttp=new XMLHttpRequest ();
	}
function getDetails (){
		var custId=document.getElementById("custId");
		var url = "http://localhost:8080/Coupons/rest/adminServices/getcustomer?custId="+custId.value;
		xmlhttp.open('GET', url, true);
		xmlhttp.send(null);
		xmlhttp.onreadystatechange=function(){
			
			var custname=document.getElementById("custname"); 
			var custpass=document.getElementById("custpass"); 

			if(xmlhttp.readyState == 4){
				if(xmlhttp.status == 200){
					
					var det= eval("(" + xmlhttp.responseText+")");	
					if(custId.value > 0){
			
						custname.value=det.name;
						custpass.value=det.custpass;
					}
					else{
						custname.value="";
						custpass.value="";
						aler(" Invalid Company Id ");
					}
				}
				else { 
					
					alert("Error -->" +xmlhttp.responseText);
				}
			}
			
			
		}
}
</script>
</head>

<body onload="init()">

	<h1>Customers Information</h1>
	 <table id="table">
	 	<tr>
	 		<th>Enter Customer Id</th>
	 		<td><input type="text" id="custId" size="10" /> <input id="button" type="button" value="Get Customer's Info" onClick="getDetails()"/>
	 	</tr>	
	 	
	 	<tr>
	 		<th>Customer Name</th>
	 		<td><input type="text" readonly="true"  id="custname" size="30"/></td>
	 	</tr>
	 	
	 	<tr>
	 		<th>Customer Password</th>
	 		<td><input type="text" readonly="true"id="custpass" size="30"/></td>
	 	</tr>
	 	
	 </table>

</body>
</html>